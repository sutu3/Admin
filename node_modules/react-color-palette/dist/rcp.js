"use client"
"use strict";var z=Object.create;var N=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var _=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var q=(r,e)=>{for(var o in e)N(r,o,{get:e[o],enumerable:!0})},R=(r,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of W(e))!X.call(r,n)&&n!==o&&N(r,n,{get:()=>e[n],enumerable:!(t=O(e,n))||t.enumerable});return r};var M=(r,e,o)=>(o=r!=null?z(_(r)):{},R(e||!r||!r.__esModule?N(o,"default",{value:r,enumerable:!0}):o,r)),G=r=>R(N({},"__esModule",{value:!0}),r);var U={};q(U,{Alpha:()=>k,ColorPicker:()=>$,ColorService:()=>h,Hue:()=>S,Saturation:()=>T,useColor:()=>j});module.exports=G(U);var C=M(require("react"));function x(r,e){return Array.isArray(r)?r.includes(e):r}var d=M(require("react"));var f=require("react");function I(){let r=(0,f.useRef)(null),[e,o]=(0,f.useState)(0),t=(0,f.useCallback)(()=>o(i=>i+1),[]);(0,f.useLayoutEffect)(()=>{window.addEventListener("resize",t,!1);let i=new ResizeObserver(t);return r.current&&i.observe(r.current),()=>{window.removeEventListener("resize",t,!1),i.disconnect()}},[t]);let n=(0,f.useMemo)(()=>{let{width:i=1,height:c=1}=r.current?.getBoundingClientRect()??{};return{width:i,height:c}},[e]),s=(0,f.useCallback)(()=>{let{left:i=1,right:c=1,top:a=1,bottom:l=1}=r.current?.getBoundingClientRect()??{};return{left:i,right:c,top:a,bottom:l}},[]);return[r,n,s]}function E(r,e,o){return r<e?e:r>o?o:r}var L=class{convert(e,o){let t=this.toHex("#000000"),n=this.hex2rgb(t),s=this.rgb2hsv(n);if(e==="hex"){let i=o;t=this.toHex(i),n=this.hex2rgb(t),t.startsWith("rgba")&&(n=this.toRgb(t),t=this.rgb2hex(n)),s=this.rgb2hsv(n)}else e==="rgb"?(n=o,t=this.rgb2hex(n),s=this.rgb2hsv(n)):e==="hsv"&&(s=o,n=this.hsv2rgb(s),t=this.rgb2hex(n));return{hex:t,rgb:n,hsv:s}}toHex(e){if(e.startsWith("#")){if(e.length===4||e.length===5)return e=e.split("").map((o,t)=>t?t<4?o+o:o==="f"?void 0:o+o:"#").join(""),e;if(e.length===7)return e;if(e.length===9)return e.endsWith("ff")?e.slice(0,7):e}else{let o=document.createElement("canvas").getContext("2d");if(!o)throw new Error("2d context not supported or canvas already initialized");return o.fillStyle=e,o.fillStyle}return"#000000"}toRgb(e){let o=e.match(/\d+(\.\d+)?/gu)??[],[t,n,s,i]=Array.from({length:4}).map((c,a)=>E(+(o[a]??(a<3?0:1)),0,a<3?255:1));return{r:t,g:n,b:s,a:i}}toHsv(e){let o=e.match(/\d+(\.\d+)?/gu)??[],[t,n,s,i]=Array.from({length:4}).map((c,a)=>E(+(o[a]??(a<3?0:1)),0,a?a<3?100:1:360));return{h:t,s:n,v:s,a:i}}hex2rgb(e){e=e.slice(1);let[o,t,n,s]=Array.from({length:4}).map((i,c)=>parseInt(e.slice(c*2,c*2+2),16));return s=Number.isNaN(s)?1:s/255,{r:o,g:t,b:n,a:s}}rgb2hsv({r:e,g:o,b:t,a:n}){e/=255,o/=255,t/=255;let s=Math.max(e,o,t),i=s-Math.min(e,o,t),c=i?(s===e?(o-t)/i+(o<t?6:0):s===o?2+(t-e)/i:4+(e-o)/i)*60:0,a=s?i/s*100:0,l=s*100;return{h:c,s:a,v:l,a:n}}hsv2rgb({h:e,s:o,v:t,a:n}){o/=100,t/=100;let s=~~(e/60),i=e/60-s,c=t*(1-o),a=t*(1-o*i),l=t*(1-o*(1-i)),u=s%6,m=[t,a,c,c,l,t][u]*255,b=[l,t,t,a,c,c][u]*255,H=[c,c,l,t,t,a][u]*255;return{r:m,g:b,b:H,a:n}}rgb2hex({r:e,g:o,b:t,a:n}){let[s,i,c,a]=[e,o,t,n].map((l,u)=>Math.round(u<3?l:l*255).toString(16).padStart(2,"0"));return["#",s,i,c,a==="ff"?void 0:a].join("")}},h=new L;var y=M(require("react"));var P=(0,y.memo)(({onCoordinateChange:r,children:e})=>{let[o,{width:t,height:n},s]=I(),i=(0,y.useCallback)((a,l=!1)=>{let{left:u,top:m}=s(),b=E(a.clientX-u,0,t),H=E(a.clientY-m,0,n);r(l,b,H)},[t,n,s,r]),c=(0,y.useCallback)(a=>{if(a.button!==0)return;i(a);let l=m=>{i(m)},u=m=>{i(m,!0),document.removeEventListener("pointermove",l,!1),document.removeEventListener("pointerup",u,!1)};document.addEventListener("pointermove",l,!1),document.addEventListener("pointerup",u,!1)},[i]);return y.default.createElement("div",{ref:o,className:"rcp-interactive",onPointerDown:c},e)});var k=(0,d.memo)(({color:r,onChange:e,onChangeComplete:o})=>{let[t,{width:n}]=I(),s=(0,d.useMemo)(()=>({x:r.hsv.a*n}),[r.hsv.a,n]),i=(0,d.useCallback)((l,u)=>{let m=h.convert("hsv",{...r.hsv,a:u/n});e(m),l&&o?.(m)},[r.hsv,n,e,o]),c=(0,d.useMemo)(()=>[r.rgb.r,r.rgb.g,r.rgb.b].join(" "),[r.rgb.r,r.rgb.g,r.rgb.b]),a=(0,d.useMemo)(()=>[c,r.rgb.a].join(" / "),[c,r.rgb.a]);return d.default.createElement(P,{onCoordinateChange:i},d.default.createElement("div",{ref:t,style:{background:`linear-gradient(to right, rgb(${c} / 0), rgb(${c} / 1)) top left / auto auto,
                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px
                      repeat`},className:"rcp-alpha"},d.default.createElement("div",{style:{left:s.x,background:`linear-gradient(to right, rgb(${a}), rgb(${a})) top left / auto auto,
                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${-s.x-4}px 2px / 12px 12px
                        repeat`},className:"rcp-alpha-cursor"})))});var p=M(require("react"));function F(r,e){return Math.round(r*10**e)/10**e}function A({r,g:e,b:o,a:t}){let n=[Math.round(r),Math.round(e),Math.round(o)],s=F(t,3);return s<1&&n.push(s),n.join(", ")}function B({h:r,s:e,v:o,a:t}){let n=[`${Math.round(r)}\xB0`,`${Math.round(e)}%`,`${Math.round(o)}%`],s=F(t,3);return s<1&&n.push(s),n.join(", ")}var D=(0,p.memo)(({hideInput:r,color:e,onChange:o,onChangeComplete:t})=>{let[n,s]=(0,p.useState)({hex:{value:e.hex,inputted:!1},rgb:{value:A(e.rgb),inputted:!1},hsv:{value:B(e.hsv),inputted:!1}});(0,p.useEffect)(()=>{n.hex.inputted||s(l=>({...l,hex:{...l.hex,value:e.hex}}))},[n.hex.inputted,e.hex]),(0,p.useEffect)(()=>{n.rgb.inputted||s(l=>({...l,rgb:{...l.rgb,value:A(e.rgb)}}))},[n.rgb.inputted,e.rgb]),(0,p.useEffect)(()=>{n.hsv.inputted||s(l=>({...l,hsv:{...l.hsv,value:B(e.hsv)}}))},[n.hsv.inputted,e.hsv]);let i=(0,p.useCallback)(l=>u=>{let{value:m}=u.target;s(b=>({...b,[l]:{...b[l],value:m}})),o(l==="hsv"?h.convert("hsv",h.toHsv(m)):l==="rgb"?h.convert("rgb",h.toRgb(m)):h.convert("hex",m))},[o]),c=(0,p.useCallback)(l=>()=>{s(u=>({...u,[l]:{...u[l],inputted:!0}}))},[]),a=(0,p.useCallback)(l=>u=>{let{value:m}=u.target;s(b=>({...b,[l]:{...b[l],inputted:!1}})),t?.(l==="hsv"?h.convert("hsv",h.toHsv(m)):l==="rgb"?h.convert("rgb",h.toRgb(m)):h.convert("hex",m))},[t]);return p.default.createElement("div",{className:"rcp-fields"},!x(r,"hex")&&p.default.createElement("div",{className:"rcp-fields-floor"},p.default.createElement("div",{className:"rcp-field"},p.default.createElement("input",{id:"hex",className:"rcp-field-input",value:n.hex.value,onChange:i("hex"),onFocus:c("hex"),onBlur:a("hex")}),p.default.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!x(r,"rgb")||!x(r,"hsv"))&&p.default.createElement("div",{className:"rcp-fields-floor"},!x(r,"rgb")&&p.default.createElement("div",{className:"rcp-field"},p.default.createElement("input",{id:"rgb",className:"rcp-field-input",value:n.rgb.value,onChange:i("rgb"),onFocus:c("rgb"),onBlur:a("rgb")}),p.default.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!x(r,"hsv")&&p.default.createElement("div",{className:"rcp-field"},p.default.createElement("input",{id:"hsv",className:"rcp-field-input",value:n.hsv.value,onChange:i("hsv"),onFocus:c("hsv"),onBlur:a("hsv")}),p.default.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))});var g=M(require("react"));var S=(0,g.memo)(({color:r,onChange:e,onChangeComplete:o})=>{let[t,{width:n}]=I(),s=(0,g.useMemo)(()=>({x:r.hsv.h/360*n}),[r.hsv.h,n]),i=(0,g.useCallback)((a,l)=>{let u=h.convert("hsv",{...r.hsv,h:l/n*360});e(u),a&&o?.(u)},[r.hsv,n,e,o]),c=(0,g.useMemo)(()=>[r.hsv.h,"100%","50%"].join(" "),[r.hsv.h]);return g.default.createElement(P,{onCoordinateChange:i},g.default.createElement("div",{ref:t,className:"rcp-hue"},g.default.createElement("div",{style:{left:s.x,backgroundColor:`hsl(${c})`},className:"rcp-hue-cursor"})))});var v=M(require("react"));var T=(0,v.memo)(({height:r,color:e,onChange:o,onChangeComplete:t})=>{let[n,{width:s}]=I(),i=(0,v.useMemo)(()=>{let u=e.hsv.s/100*s,m=(100-e.hsv.v)/100*r;return{x:u,y:m}},[e.hsv.s,e.hsv.v,s,r]),c=(0,v.useCallback)((u,m,b)=>{let H=h.convert("hsv",{...e.hsv,s:m/s*100,v:100-b/r*100});o(H),u&&t?.(H)},[e.hsv,s,r,o,t]),a=(0,v.useMemo)(()=>[e.hsv.h,"100%","50%"].join(" "),[e.hsv.h]),l=(0,v.useMemo)(()=>[e.rgb.r,e.rgb.g,e.rgb.b].join(" "),[e.rgb.r,e.rgb.g,e.rgb.b]);return v.default.createElement(P,{onCoordinateChange:c},v.default.createElement("div",{ref:n,style:{height:r,backgroundColor:`hsl(${a})`},className:"rcp-saturation"},v.default.createElement("div",{style:{left:i.x,top:i.y,backgroundColor:`rgb(${l})`},className:"rcp-saturation-cursor"})))});var $=(0,C.memo)(({height:r=200,hideAlpha:e=!1,hideInput:o=!1,color:t,onChange:n,onChangeComplete:s})=>C.default.createElement("div",{className:"rcp-root rcp"},C.default.createElement(T,{height:r,color:t,onChange:n,onChangeComplete:s}),C.default.createElement("div",{className:"rcp-body"},C.default.createElement("section",{className:"rcp-section"},C.default.createElement(S,{color:t,onChange:n,onChangeComplete:s}),!e&&C.default.createElement(k,{color:t,onChange:n,onChangeComplete:s})),(!x(o,"hex")||!x(o,"rgb")||!x(o,"hsv"))&&C.default.createElement("section",{className:"rcp-section"},C.default.createElement(D,{hideInput:o,color:t,onChange:n,onChangeComplete:s})))));var w=require("react");function j(r){let[e,o]=(0,w.useState)(h.convert("hex",r));return(0,w.useEffect)(()=>{o(h.convert("hex",r))},[r]),[e,o]}0&&(module.exports={Alpha,ColorPicker,ColorService,Hue,Saturation,useColor});
